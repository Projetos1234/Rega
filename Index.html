<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Monitoramento da planta</title>
</head>
<body>
  <div id="loading" class="loading-dots"></div>

 <div id="data-container" class="initial-animation" style="display: none;">
  <h1>Indicador de rega<p></p>inteligente</h1>
  <div id="temperature">Temperatura do <span class="green">ar</span>: <span id="temp-value">0</span> °C</div>
  <div id="humidity">Humidade do <span class="green">ar</span>: <span id="humidity-value">0</span>%</div>
  <div id="soil-humidity">Humidade do <span class="green">solo</span>: <span id="soil-humidity-value">0</span>%</div>
  <div id="status">Status da <span class="green">conexão</span>:  <span id="status-value">Disconectado</span></div>
</div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.js"></script>
  <script>
    const socket = io();

    // Show loading dots with a delay
    document.addEventListener('DOMContentLoaded', () => {
      const loadingContainer = document.getElementById('loading');
      loadingContainer.innerHTML = '<div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div>';

      setTimeout(() => {
        loadingContainer.style.display = 'none';
        
        const dataContainer = document.getElementById('data-container');
        dataContainer.style.display = 'block';

        const elementsToAnimate = document.querySelectorAll('.initial-animation span');
        elementsToAnimate.forEach(element => {
          element.classList.add('animated', 'fadeIn');
        });
      }, 2000); // Set the delay in milliseconds (2 seconds in this case)
    });

    socket.on('updateData', (data) => {
      document.getElementById('temp-value').textContent = data.airTemperature.toFixed(2);
      document.getElementById('humidity-value').textContent = data.airHumidity.toFixed(2);
      document.getElementById('soil-humidity-value').textContent = data.soilHumidity.toFixed(2);
      document.getElementById('status-value').textContent = data.espStatus;
    });
  </script>
</body>
</html>
